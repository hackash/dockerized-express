'use strict';

/* Route definitions */
const routes = [
    {
        url: '/',
        methods: ['GET'],
        handler: './handlers/home'
    },
    {
        url: '/home',
        methods: ['GET'],
        handler: './handlers/home'
    }
];

/* Setting up routes */
const init = (router) => {

    /* Applying routes */
    routes.forEach(r => {
        r.methods.forEach(m => {
            router[m.toLowerCase()](r.url, require(r.handler)[m.toLowerCase()]);
        });
    });

    /* The rest goes to 404 */
    router.use(require('./handlers/404'));
};

module.exports = {init};
